"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[798],{1798:(Y,u,c)=>{c.r(u),c.d(u,{ShopModule:()=>Q});var s=c(6019),_=c(1382);class l{constructor(){this.brandIdSelected=0,this.typeIdSelected=0,this.sortSelected="name",this.pageNumber=1,this.pageSize=6,this.search=""}}var t=c(1514),f=c(8260),Z=c(4522);let d=(()=>{class n{constructor(e){this.http=e,this.baseUrl=f.N.apiUrl}GetProducts(e){let o="?";return e.brandIdSelected&&(o+="brandId="+e.brandIdSelected+"&"),e.typeIdSelected&&(o+="typeId="+e.typeIdSelected+"&"),e.search&&(o+="search="+e.search+"&"),o+="sort="+e.sortSelected+"&",o+="pageIndex="+e.pageNumber+"&",o+="pageSize="+e.pageSize+"&",this.http.get(this.baseUrl+"products"+o)}GetBrands(){return this.http.get(this.baseUrl+"products/brands")}GetTypes(){return this.http.get(this.baseUrl+"products/types")}GetProduct(e){return this.http.get(this.baseUrl+"products/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function C(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1,"Showing "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," of "),t.TgZ(5,"strong"),t._uU(6),t.qZA(),t._uU(7," Results "),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.AsE(" ",(e.pageNumber-1)*e.pageSize+1," - ",e.pageNumber*e.pageSize>e.totalCount?e.totalCount:e.pageNumber*e.pageSize," "),t.xp6(3),t.Oqu(e.totalCount)}}function v(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1," There are 0 results for this filter "),t.qZA())}let T=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-paging-header"]],inputs:{pageNumber:"pageNumber",pageSize:"pageSize",totalCount:"totalCount"},decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"header"),t.YNc(1,C,8,3,"span",0),t.YNc(2,v,2,0,"span",0),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.totalCount>0),t.xp6(1),t.Q6J("ngIf",0===o.totalCount))},directives:[s.O5],styles:[""]}),n})();var g=c(7537),m=c(7711),p=c(7923);let b=(()=>{class n{constructor(e){this.basketService=e}ngOnInit(){}addItemToBasket(){this.basketService.addItemToBasket(this.product)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-item"]],inputs:{product:"product"},decls:15,vars:8,consts:[[1,"card","shadow-sm"],[1,"card-img-top","image",2,"cursor","pointer"],[1,"image-fluid",3,"src","alt"],[1,"d-flex","align-items-center","justify-content-center","hover-overlay"],["type","button",1,"btn","btn-primary","fa","fa-shopping-cart","mr-2",3,"click"],["type","button","routerLinkActive","router-link-active",1,"btn","btn-primary",3,"routerLink"],[1,"card-body"],[1,"card-title"],[1,"product-name",3,"routerLink"],[1,"text-uppercase"],[1,"mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t.TgZ(3,"div",3),t.TgZ(4,"button",4),t.NdJ("click",function(){return o.addItemToBasket()}),t.qZA(),t.TgZ(5,"button",5),t._uU(6," View "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.TgZ(8,"h5",7),t.TgZ(9,"a",8),t.TgZ(10,"h6",9),t._uU(11),t.qZA(),t.qZA(),t.TgZ(12,"span",10),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.s9C("src",o.product.pictureUrl,t.LSH),t.s9C("alt",o.product.name),t.xp6(3),t.MGl("routerLink","/shop/",o.product.id,""),t.xp6(4),t.MGl("routerLink","/shop/",o.product.id,""),t.xp6(2),t.Oqu(o.product.name),t.xp6(2),t.Oqu(t.lcZ(14,6,o.product.price)))},directives:[p.Od,p.rH,p.yS],pipes:[s.H9],styles:["img[_ngcontent-%COMP%]{width:100%;height:auto}.btn[_ngcontent-%COMP%]{width:30%;height:40px}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:1}.image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{transform:none;opacity:1}.hover-overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(255,255,255,.5);opacity:0;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{z-index:1000;transition:all .5s}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-of-type{transform:translate(-20px)}.hover-overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{transform:translate(20px)}"]}),n})();var S=c(4585);let y=(()=>{class n{constructor(){this.pageChanged=new t.vpe}ngOnInit(){}onPageChanged(e){this.pageChanged.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pager"]],inputs:{pageSize:"pageSize",totalCount:"totalCount"},outputs:{pageChanged:"pageChanged"},decls:1,vars:3,consts:[["previousText","\u2039","nextText","\u2039","firstText","\u2039","lastText","\u2039",3,"boundaryLinks","totalItems","itemsPerPage","pageChanged"]],template:function(e,o){1&e&&(t.TgZ(0,"pagination",0),t.NdJ("pageChanged",function(a){return o.onPageChanged(a)}),t.qZA()),2&e&&t.Q6J("boundaryLinks",!0)("totalItems",o.totalCount)("itemsPerPage",o.pageSize)},directives:[S.Qt],styles:[""]}),n})();const x=["search"];function P(n,i){if(1&n&&(t.TgZ(0,"option",17),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.name," ")}}function A(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onBrandSelected(a.id)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.ekj("active",e.id===o.shopParams.brandIdSelected),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function q(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).onTypeSelected(a.id)}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.ekj("active",e.id===o.shopParams.typeIdSelected),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function I(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"h5",11),t._uU(2,"Sort"),t.qZA(),t.TgZ(3,"select",12),t.NdJ("change",function(r){return t.CHM(e),t.oxw().onSortSelected(r.target.value)}),t.YNc(4,P,2,2,"option",13),t.qZA(),t.TgZ(5,"h5",14),t._uU(6,"Brands"),t.qZA(),t.TgZ(7,"ul",15),t.YNc(8,A,2,4,"li",16),t.qZA(),t.TgZ(9,"h5",14),t._uU(10,"Types"),t.qZA(),t.TgZ(11,"ul",15),t.YNc(12,q,2,4,"li",16),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.sort_options),t.xp6(4),t.Q6J("ngForOf",e.brands),t.xp6(4),t.Q6J("ngForOf",e.types)}}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"input",20,21),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw().onSearch()}),t.qZA(),t.TgZ(3,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw().onSearch()}),t._uU(4,"Search"),t.qZA(),t.TgZ(5,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw().onReset()}),t._uU(6,"Reset"),t.qZA(),t.qZA()}}function N(n,i){if(1&n&&(t.TgZ(0,"div",24),t._UZ(1,"app-product-item",25),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("product",e)}}function w(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.TgZ(1,"app-pager",27),t.NdJ("pageChanged",function(r){return t.CHM(e),t.oxw().onPageChanged(r)}),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("pageSize",e.shopParams.pageSize)("totalCount",e.totalCount)}}let U=(()=>{class n{constructor(e){this.shopService=e,this.products=[],this.brands=[],this.types=[],this.shopParams=new l,this.totalCount=0,this.sort_options=[{name:"Alphabetical",value:"name"},{name:"Price Low to High",value:"price-asc"},{name:"Price High to Low",value:"price-desc"}]}ngOnInit(){this.getProducts(),this.getBrands(),this.getTypes()}getProducts(){this.shopService.GetProducts(this.shopParams).subscribe(e=>{e&&(this.products=e.data),this.shopParams.pageNumber=e.pageIndex,this.shopParams.pageSize=e.pageSize,this.totalCount=e.count},e=>{console.log(e)})}getBrands(){this.shopService.GetBrands().subscribe(e=>{this.brands=[{id:0,name:"All"},...e]},e=>{console.log(e)})}getTypes(){this.shopService.GetTypes().subscribe(e=>{this.types=[{id:0,name:"All"},...e]},e=>{console.log(e)})}onBrandSelected(e){this.shopParams.brandIdSelected=e,this.shopParams.pageNumber=1,this.getProducts()}onTypeSelected(e){this.shopParams.typeIdSelected=e,this.shopParams.pageNumber=1,this.getProducts()}onSortSelected(e){this.shopParams.sortSelected=e,this.getProducts()}onPageChanged(e){this.shopParams.pageNumber!=e.page&&(this.shopParams.pageNumber=e.page,this.getProducts())}onSearch(){this.shopParams.search=this.searchTerm.nativeElement.value,this.shopParams.pageNumber=1,this.getProducts()}onReset(){this.searchTerm.nativeElement.value="",this.shopParams=new l,this.getProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop"]],viewQuery:function(e,o){if(1&e&&t.Gf(x,5),2&e){let r;t.iGM(r=t.CRH())&&(o.searchTerm=r.first)}},decls:12,vars:7,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-3"],[4,"ngIf"],[1,"col-9"],[1,"row","justify-content-between","align-items-center","pb-2"],[1,"col"],[3,"totalCount","pageNumber","pageSize"],["class","col form-inline",4,"ngIf"],["class","col-md-4 mb-4",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"text-warning","ml-3","mb-3"],[1,"custom-select","mb-3",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"text-warning","ml-3"],[1,"list-group","my-3"],["class","list-group-item",3,"active","value","click",4,"ngFor","ngForOf"],[3,"value"],[1,"list-group-item",3,"value","click"],[1,"col","form-inline"],["placeholder","search","type","text",1,"form-control","mr-2",2,"width","300px",3,"keyup.enter"],["search",""],[1,"btn","btn-outline-primary","my-2",3,"click"],[1,"btn","btn-outline-success","ml-2","my-2",3,"click"],[1,"col-md-4","mb-4"],[3,"product"],[1,"d-flex","justify-content-center"],[3,"pageSize","totalCount","pageChanged"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"section",2),t.YNc(3,I,13,3,"ng-container",3),t.qZA(),t.TgZ(4,"section",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t._UZ(7,"app-paging-header",7),t.qZA(),t.YNc(8,k,7,0,"div",8),t.qZA(),t.TgZ(9,"div",1),t.YNc(10,N,2,1,"div",9),t.qZA(),t.YNc(11,w,2,2,"div",10),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",o.types.length>0&&o.brands.length>0),t.xp6(4),t.Q6J("totalCount",o.totalCount)("pageNumber",o.shopParams.pageNumber)("pageSize",o.shopParams.pageSize),t.xp6(1),t.Q6J("ngIf",o.products.length>0),t.xp6(2),t.Q6J("ngForOf",o.products),t.xp6(1),t.Q6J("ngIf",o.totalCount>0))},directives:[s.O5,T,s.sg,g.YN,g.Kr,b,y],styles:[""]}),n})();var O=c(5882),h=c(5686);function M(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).addItemToBasket()}),t._uU(1,"Add to Cart"),t.qZA()}}function J(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"h4"),t._uU(3,"Product Images"),t.qZA(),t.TgZ(4,"carousel"),t.TgZ(5,"slide"),t._UZ(6,"img",4),t.qZA(),t.TgZ(7,"slide"),t._UZ(8,"img",4),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",3),t.TgZ(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"p",5),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"div",6),t.TgZ(16,"i",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().decrementQuantity()}),t.qZA(),t.TgZ(17,"span",8),t._uU(18),t.qZA(),t.TgZ(19,"i",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().incrementQuantity()}),t.qZA(),t.YNc(20,M,2,0,"button",10),t.qZA(),t.TgZ(21,"div",11),t.TgZ(22,"div",12),t.TgZ(23,"h4"),t._uU(24,"Description"),t.qZA(),t.TgZ(25,"p"),t._uU(26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(6),t.s9C("src",e.product.pictureUrl,t.LSH),t.s9C("alt",e.product.name),t.xp6(2),t.s9C("src",e.product.pictureUrl,t.LSH),t.s9C("alt",e.product.name),t.xp6(3),t.Oqu(e.product.name),t.xp6(2),t.Oqu(t.lcZ(14,9,e.product.price)),t.xp6(5),t.Oqu(e.quantity),t.xp6(2),t.Q6J("ngIf",e.quantity>0),t.xp6(6),t.Oqu(e.product.description)}}const z=[{path:"",component:U},{path:":id",component:(()=>{class n{constructor(e,o,r,a){this.shopService=e,this.activatedRoute=o,this.basketService=r,this.breadcrumbServics=a,this.quantity=0,this.breadcrumbServics.set("@productDetails"," ")}ngOnInit(){this.loadProduct(),this.quantity=this.basketService.getItemQuantity(this.product)}addItemToBasket(){this.basketService.addItemToBasket(this.product,this.quantity)}incrementQuantity(){this.quantity++}decrementQuantity(){this.quantity--,this.quantity<0&&(this.quantity=0)}loadProduct(){let e=this.activatedRoute.snapshot.paramMap.get("id");this.shopService.GetProduct(null==e?0:+e).subscribe(r=>{this.product=r,this.breadcrumbServics.set("@productDetails",r.name)},r=>{console.log(r)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d),t.Y36(p.gz),t.Y36(m.v),t.Y36(O.pm))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-details"]],decls:2,vars:1,consts:[[1,"container","mt-4","mb-4",2,"background-color","black"],["class","row",4,"ngIf"],[1,"row"],[1,"col-6"],[1,"img-fluid",3,"src","alt"],[2,"font-size","2em"],[1,"d-flex","justify-content-start","align-items-center"],[1,"fa","fa-minus-circle","text-warning","mr-2",2,"cursor","pointer","font-size","2em",3,"click"],[1,"font-weight-bold",2,"font-size","1.5em"],[1,"fa","fa-plus-circle","text-warning","ml-2",2,"cursor","pointer","font-size","2em",3,"click"],["class","btn btn-outline-primary btn-lg ml-4",3,"click",4,"ngIf"],[1,"row","mt-5"],[1,"col-12","ml-3"],[1,"btn","btn-outline-primary","btn-lg","ml-4",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,J,27,11,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.product))},directives:[s.O5,h.Fy,h.o6],pipes:[s.H9],styles:[""]}),n})(),data:{breadcrumb:{alias:"productDetails"}}}];let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,p.Bz.forChild(z)],p.Bz]}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,_.m,F]]}),n})()}}]);